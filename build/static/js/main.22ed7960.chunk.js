(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},35:function(e,t,n){e.exports=n(67)},40:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},66:function(e,t,n){e.exports=n.p+"static/media/edit.2927f8de.svg"},67:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(32),c=n.n(l),o=(n(40),n(5)),r=n(11),s=n(7),u=n(6),m=n(8),d=n(10),h=n(13),p=n(12),v=n.n(p),E={CREATE:"".concat("/events/","add/"),READ:"/events/",UPDATE:"".concat("/events/","update/"),DELETE:"".concat("/events/","delete/")},f=(n(59),function(e){return i.a.createElement("div",{className:e.classname},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null))}),g=(n(60),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).deleteEvent=function(e){v.a.delete(E.DELETE+e).then((function(e){return console.log(e)})).catch((function(e){console.log(e)}));var t=n.state.events.filter((function(t){return t._id!==e}));n.setState({events:t})},n.state={events:[],spinner:!1},n}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({spinner:!0}),setTimeout((function(){v.a.get(E.READ).then((function(t){e.setState({events:t.data})})).catch((function(e){console.log(e)})),e.state.events.length&&e.setState({spinner:!1})}),2e3)}},{key:"render",value:function(){var e=this,t=this.state,a=t.events,l=t.spinner;return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"events-list"},i.a.createElement(d.b,{to:"/add",style:{textDecoration:"none"}},i.a.createElement("input",{type:"button",value:"Add new event"})),l?i.a.createElement(f,{classname:"spinner"}):a.sort((function(e,t){return e.date.localeCompare(t.date)||e.time.localeCompare(t.time)})).map((function(t){var a=new Date(t.date),l=a.getFullYear(),c=a.toLocaleString("en-us",{month:"short"}),o=a.getDate();return i.a.createElement("div",{key:t._id,className:"event"},i.a.createElement("div",{className:"left"},i.a.createElement("div",{className:"day"},o),i.a.createElement("div",{className:"month-year"},c," ",l),i.a.createElement("div",{className:"time"},t.time)),i.a.createElement("div",{className:"right"},i.a.createElement("div",{className:"edit"},i.a.createElement(d.b,{to:"/edit/"+t._id},i.a.createElement("img",{className:"edit",src:n(66),alt:"edit"}))),i.a.createElement("img",{className:"delete",src:"https://image.flaticon.com/icons/svg/32/32178.svg",alt:"delete",onClick:function(){return e.deleteEvent(t._id)}}),i.a.createElement("div",{className:"content"},i.a.createElement("div",null,i.a.createElement("b",null,t.title)),i.a.createElement("div",null,i.a.createElement("i",null,t.location)),t.description?i.a.createElement("div",{className:"description"},t.description):null)))}))))}}]),t}(a.Component)),b=n(16),y=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state=void 0,n.handleInputChange=function(e){},n.handleSubmit=function(e){},n.success=function(){alert("Success")},n}return Object(m.a)(t,e),t}(a.Component),C=(n(30),n(31),function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={title:"",date:"",time:"",location:"",description:""},n.handleInputChange=function(e){var t=e.target;n.setState(Object(b.a)({},t.name,t.value))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a={title:t.title,date:t.date,time:t.time,location:t.location,description:t.description};v.a.post(E.CREATE,a).then((function(e){console.log(e.data),n.success()})),n.setState({title:"",date:"",time:"",location:"",description:""})},n}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,n=e.date,a=e.time,l=e.location,c=e.description,o=t&&n&&a;return i.a.createElement("div",{className:"container"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("input",{type:"text",name:"title",placeholder:"Title","max-length":"15",value:t,onChange:this.handleInputChange}),i.a.createElement("input",{type:"date",name:"date",placeholder:"Date",value:n,onChange:this.handleInputChange}),i.a.createElement("input",{type:"time",name:"time",placeholder:"Time",value:a,onChange:this.handleInputChange}),i.a.createElement("input",{type:"text",name:"location",placeholder:"Location","max-length":"15",value:l,onChange:this.handleInputChange}),i.a.createElement("input",{type:"text",name:"description",placeholder:"Additional info","max-length":"15",value:c,onChange:this.handleInputChange}),i.a.createElement("input",{type:"submit",disabled:!o,value:"Add event"}),o?null:i.a.createElement("div",{className:"require"},"Title, date and time is required.")),i.a.createElement(d.b,{to:"/",style:{textDecoration:"none"}},i.a.createElement("input",{type:"button",value:"Back"})))}}]),t}(y)),j=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={_id:"",title:"",date:"",time:"",location:"",description:""},n.handleInputChange=function(e){var t=e.target;n.setState(Object(b.a)({},t.name,t.value))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.title,i=t.date,l=t.time,c=t.location,o=t.description,r=n.props.match.params.id,s={title:a,date:i,time:l,location:c,description:o};v.a.post(E.UPDATE+r,s).then((function(e){console.log(e.data),n.success()}))},n}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;v.a.get(E.READ+t).then((function(t){var n=t.data,a=n._id,i=n.title,l=n.date,c=n.time,o=n.location,r=n.description;e.setState({_id:a,title:i,date:l,time:c,location:o,description:r})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.date,a=e.time,l=e.location,c=e.description,o=t&&n&&a;return i.a.createElement("div",{className:"container"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("input",{type:"text",name:"title",placeholder:"Title","max-length":"15",value:t,onChange:this.handleInputChange}),i.a.createElement("input",{type:"date",name:"date",placeholder:"Date",value:n,onChange:this.handleInputChange}),i.a.createElement("input",{type:"time",name:"time",placeholder:"Time",value:a,onChange:this.handleInputChange}),i.a.createElement("input",{type:"text",name:"location",placeholder:"Location","max-length":"15",value:l,onChange:this.handleInputChange}),i.a.createElement("input",{type:"text",name:"description",placeholder:"Additional info","max-length":"15",value:c,onChange:this.handleInputChange}),i.a.createElement("input",{type:"submit",disabled:!o,value:"Update event"}),o?null:i.a.createElement("div",{className:"require"},"Title, date and time is required.")),i.a.createElement(d.b,{to:"/",style:{textDecoration:"none"}},i.a.createElement("input",{type:"button",value:"Back"})))}}]),t}(y),O=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement(d.a,null,i.a.createElement(h.a,{path:"/",exact:!0,component:g}),i.a.createElement(h.a,{path:"/add",component:C}),i.a.createElement(h.a,{path:"/edit/:id",component:j}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.22ed7960.chunk.js.map